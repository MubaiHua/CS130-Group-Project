{
    "AWSEBDockerrunVersion": 2,
    "volumes": [
      {
        "name": "django_static",
        "host": {
          "sourcePath": "/usr/src/django-static"
        }
      },
      {
        "name": "psqldata",
        "host": {
          "sourcePath": "/var/lib/postgresql/data"
        }
      },
      {
        "name": "fuseki-data",
        "host": {
          "sourcePath": "/fuseki-base/databases"
        }
      }
    ],
    "containerDefinitions": [
      {
        "name": "client",
        "image": "815829586688.dkr.ecr.us-east-2.amazonaws.com/excel-to-fuseki-frontend:latest",
        "essential": true,
        "memory": 128,
        "portMappings": [
          {
            "hostPort": 80,
            "containerPort": 80
          }
        ],
        "logConfiguration": {
          "logDriver": "awslogs",
          "options": {
              "awslogs-create-group": "true",
              "awslogs-group": "awslogs-client",
              "awslogs-region": "us-east-2",
              "awslogs-stream-prefix": "awslogs-example"
          }
        }
      },
      {
        "name": "backend",
        "image": "815829586688.dkr.ecr.us-east-2.amazonaws.com/excel-to-fuseki-backend:latest",
        "essential": true,
        "memory": 128,
        "environment": [
          {
            "name": "CODE_ENV",
            "value": "prod"
          }
        ],
        "portMappings": [
          {
            "hostPort": 8000,
            "containerPort": 8000
          }
        ],
        "mountPoints": [
          {
            "sourceVolume": "django_static",
            "containerPath": "/usr/src/django-static"
          }
        ],
        "logConfiguration": {
          "logDriver": "awslogs",
          "options": {
              "awslogs-create-group": "true",
              "awslogs-group": "awslogs-backend",
              "awslogs-region": "us-east-2",
              "awslogs-stream-prefix": "awslogs-example"
          }
        }
      },
      {
        "name": "psqldb",
        "image": "postgres:latest",
        "essential": true,
        "memory": 128,
        "mountPoints": [
          {
            "sourceVolume": "psqldata",
            "containerPath": "/var/lib/postgresql/data"
          }
        ],
        "portMappings": [
          {
            "hostPort": 5432,
            "containerPort": 5432
          }
        ],
        "logConfiguration": {
          "logDriver": "awslogs",
          "options": {
              "awslogs-create-group": "true",
              "awslogs-group": "awslogs-psqldb",
              "awslogs-region": "us-east-2",
              "awslogs-stream-prefix": "awslogs-example"
          }
        }
      },
      {
        "name": "fuseki",
        "image": "secoresearch/fuseki",
        "essential": true,
        "memory": 128,
        "environment": [
          {
            "name": "ADMIN_PASSWORD",
            "value": "123456"
          },
          {
            "name": "ENABLE_DATA_WRITE",
            "value": "true"
          },
          {
            "name": "ENABLE_UPDATE",
            "value": "true"
          },
          {
            "name": "ENABLE_UPLOAD",
            "value": "true"
          },
          {
            "name": "QUERY_TIMEOUT",
            "value": "10000"
          }
        ],
        "mountPoints": [
          {
            "sourceVolume": "fuseki-data",
            "containerPath": "/fuseki-base/databases"
          }
        ],
        "portMappings": [
          {
            "hostPort": 3030,
            "containerPort": 3030
          }
        ],
        "logConfiguration": {
          "logDriver": "awslogs",
          "options": {
              "awslogs-create-group": "true",
              "awslogs-group": "awslogs-fuseki",
              "awslogs-region": "us-east-2",
              "awslogs-stream-prefix": "awslogs-example"
          }
        }
      }
    ]
  }